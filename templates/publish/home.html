
<!--ACA SE veran las ultimas publicaciones de las personas que seguimos-->

{% extends "base.html" %}<!--HEREDAMOS DE UNA PLATILLA LLAMADA base-->

{% load static %}


{% block title %} Home {% endblock %}

{% block searchform %}
{% endblock searchform %}

{% block addgoogle %}
    {% if postings|length > 9 %}
        <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2662739673112516" crossorigin="anonymous"></script> -->
    {% endif %}
{% endblock addgoogle %}



{% block cssfiles %}

    <link href='https://fonts.googleapis.com/css?family=Dancing Script' rel='stylesheet'>


    <link rel="stylesheet" href="{% static 'css/home.css' %}" type="text/css" />

{% endblock cssfiles %} 


{% block content %}

    <div class="fixed-top d-flex flex-row justify-content-between border-bottom">
            
        <div class="p-2">
            <a href="{% url 'index' request.user.id %}" class="link_icons">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-map" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98 4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"/>
                </svg>
            </a>
        </div>

        <div id="scroll_top" class="p-2">
            <span class="span_title">
                TravelTry
            </span> 
        </div>

        <div class="p-2">
            <a class="link_icons" href="{% url 'active_list'%}">
                {% if messages_unreaded > 9 %}
                        <span class="cant_messages">+9</span>
                {% else %} 
                    {% if messages_unreaded > 0 %}
                        <span class="cant_messages">{{ messages_unreaded }}</span>
                    {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">
                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
                        </svg>
                    {% endif %}
                {% endif %}
            </a>
        </div>
        

    </div>

    <br>
    
    {% if postings %}<!--ENTRAMOS SOLO SI HAY POST-->

        {% for post in postings %}<!--Recorremos todos los post-->
            {% if post.user_post %}<!--si existe esta variable, significa que estamos en un post propio de cada user-->
                <!--nos debemos fijar que tipo de post estamos recorriendo, si es una publicación propia de cada usuario, o es una sharing publicación-->
                
                <div id="div_1"> <!-- class="d-flex justify-content-center row" -->
                    <div id="div_2"> <!-- class="col-6" -->

                        <div class="mt-5">              
                            <div class="bg-white border">
                                <div>
                                    <div class="d-flex flex-row justify-content-between align-items-center p-2 border-bottom">
                                        <div class="d-flex flex-row align-items-center px-2">
                                            {% if post.user_post == user %}
                                                <a href="{% url 'myprofile'%}">
                                                    <img src="{{ post.user_post.profile.photo.url }}" class="rounded-circle" width="30" height="30">
                                                </a>  
                                            {% else %}
                                                <a href="{{ post.user_post.profile.get_absolute_url }}">
                                                    <img src="{{ post.user_post.profile.photo.url }}" class="rounded-circle" width="30" height="30">
                                                </a>
                                            {% endif %}
                                            <div class="d-flex flex-column flex-wrap ml-2">
                                                <span class="font-weight-bold">
                                                    {% if post.user_post == user %}<!--si el usuario logeado mira su propia publicación entra aca para que los enlaces esten dirigidos a 'myprofile'-->
                                                        <a class="some-links" href="{% url 'myprofile'%}">
                                                            <b>
                                                                {{ post.user_post }}
                                                            </b>
                                                            
                                                        </a>        
                                                    {% else %}<!--si el usuario logeado no es el dueño entramos aca y nos dan los enlaces a 'profile', que es la url-vista que se encarga de mostrar perfiles de usuarios que no sean el logeado-->
                                                        <a class="some-links" href="{{ post.user_post.profile.get_absolute_url }}">
                                                            <b>
                                                                {{ post.user_post }}
                                                            </b>
                                                            
                                                        </a>
                                                    {% endif %}
                                                </span>
                                                
                                            </div>
                                        </div>
                                        <div class="px-2">
                                            <div class="dropdown show dropleft">
                                                <a class="link_icons" href="" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                                        <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                                    </svg>
                                                </a>
                                            
                                                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                    <a class="dropdown-item" href="{% url 'post-detail' post.id %}">
                                                        Go to Post
                                                    </a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="{% url 'Report_Post' post.id %}">
                                                        Report post
                                                    </a>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="block-image">
                                    <img class="img-fluid" src="{{ post.pic.url }}">
                                </div>
                                <div class="d-flex justify-content-start options mt-2 ml-1">
                                    {% if post in liked_post %}<!--nos fijamos si el user logeado le dio like al post-->
                                        <i class="bi bi-ticket-perforated-fill"><!--LIKE-->
                                            <a class="like_suitcase_post there_is_like ml-1" href="{% url 'like' %}" id="{{ post.id }}">
                                                <svg id="svg_suitcase{{ post.id }}" version="1.1" viewBox="0.0 0.0 100.0 100.0" width="24" height="24"  fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                    
                                                    <clipPath id="p.0">
                                                        <path d="m0 0l100.0 0l0 100.0l-100.0 0l0 -100.0z" clip-rule="nonzero"/>
                                                    </clipPath> 
                                                
                                                    <g clip-path="url(#p.0)">
                                                        <path fill="#000000" fill-opacity="0.0" d="m0 0l100.0 0l0 100.0l-100.0 0z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para el relleno: fill="#ed4956" -->
                                                        <path id="path_post_heart_fill{{ post.id }}" fill="#ed4956" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para la linea de contorno -->
                                                        <path id="path_post_heart_stroke{{ post.id }}" stroke="#ed4956" stroke-width="5.0" stroke-linejoin="round" stroke-linecap="butt" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                    </g>
                                                
                                                </svg>     
                                            </a>
                                        </i>
                                    {% else %}
                                        <i class="bi bi-ticket-perforated">
                                            <a class="like_suitcase_post there_is_not_like ml-1" href="{% url 'like' %}" id="{{ post.id }}">  
                                                <svg id="svg_suitcase{{ post.id }}" version="1.1" viewBox="0.0 0.0 100.0 100.0" width="24" height="24"  fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                    
                                                    <clipPath id="p.0">
                                                        <path d="m0 0l100.0 0l0 100.0l-100.0 0l0 -100.0z" clip-rule="nonzero"/>
                                                    </clipPath> 
                                                
                                                    <g clip-path="url(#p.0)">
                                                        <path fill="#000000" fill-opacity="0.0" d="m0 0l100.0 0l0 100.0l-100.0 0z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para el relleno: fill="#ed4956" -->
                                                        <path id="path_post_heart_fill{{ post.id }}" fill="white" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para la linea de contorno -->
                                                        <path id="path_post_heart_stroke{{ post.id }}" stroke="black" stroke-width="5.0" stroke-linejoin="round" stroke-linecap="butt" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                    </g>
                                                
                                                </svg> 
                                            </a>
                                        </i>
                                    {% endif %}
                                    <i class="bi bi-pencil">
                                        <a class="link_icons" href="{% url 'post-detail' post.id %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                                <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                            </svg>
                                        </a>
                                    </i>

                                    <!--FORMULARIO PARA COMPARTIR POST-->
                                    <div class="dropdown show">
                                        <a class="link_icons" href="" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16">
                                                <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
                                            </svg>
                                        </a>
                                    
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                            <form action="{% url 'Share_Post' %}" method="POST">
                                                {% csrf_token %}
                                                <input name="sharing_post" id="Post_{{ post.id }}" value="{{ post.id }}" type="hidden">
                                                <button class="button-share">
                                                    Share with followers
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between like-count ml-2 mr-2">
                                    <span>
                                        <a id="like{{post.id}}" class="some-links" href="{% url 'LikesListView' post.id %}">
                                            <span id="span_like{{post.id}}">
                                                {{ post.likes.count }}
                                            </span> Likes
                                        </a>
                                    </span>
                                    {% if post.tags == 'Featured'%}
                                        <a href="{% url 'FeaturedPostListView' post.user_post.id %}" class="text-primary">
                                            Tags: {{ post.tags }}
                                        </a>
                                    {% else %}
                                        <a href="{% url 'give_name_get_id' %}" class="text-primary desbordamiento {{ post.user_post }}">Tags: {{ post.tags }}</a>
                                    {% endif %}
                                    <!-- <span class="text-primary">
                                        Tags: {{ post.tags }}
                                    </span> -->
                                </div>
                                <div class="block-body ml-2">
                                    <span>
                                        {% if post.user_post == user %}<!--si el usuario logeado mira su propia publicación entra aca para que los enlaces esten dirigidos a 'myprofile'-->
                                            <a class="some-links" href="{% url 'myprofile'%}">
                                                <b>
                                                    {{ post.user_post }}
                                                </b>
                                                
                                            </a>        
                                        {% else %}<!--si el usuario logeado no es el dueño entramos aca y nos dan los enlaces a 'profile', que es la url-vista que se encarga de mostrar perfiles de usuarios que no sean el logeado-->
                                            <a class="some-links" href="{{ post.user_post.profile.get_absolute_url }}">
                                                <b>
                                                    {{ post.user_post }}
                                                </b>
                                                
                                            </a>
                                        {% endif %}
                                    </span>
                                    <span style="color: rgb(26, 26, 26); font-size: 14px;">
                                        {{ post.body }}
                                    </span> 
                                </div>
                                <div class="comment-count ml-2">
                                    <span>
                                        <a class="some-links" href="{% url 'post-detail' post.id %}">
                                            {{ post.details.count }} Comments
                                        </a>
                                    </span>
                                </div>
                                <div class="comment-count ml-2">
                                    <small class="text-muted">
                                        Posted on {{ post.time_post }}
                                    </small>
                                </div>
                            </div>
                        </div>

                    </div>
                </div> 

            {% else %}<!--si entra aca, estamos recorriendo un sharing post-->
                <div id="div_3"> <!-- class="d-flex justify-content-center row" -->
                    <div id="div_4"> <!-- class="col-6" -->

                        <div class="mt-5">              
                            <div class="bg-white border">
                                <div>
                                    <!--abajo arranca la cabecera de la sharing post-->
                                    <div class="d-flex flex-row justify-content-between align-items-center p-2 border-bottom">
                                        <div class="d-flex flex-row align-items-center px-2">
                                            {% if post.the_user == user %}
                                                <a href="{% url 'myprofile'%}">
                                                    <img src="{{ post.the_user.profile.photo.url }}" class="rounded-circle" width="30" height="30">
                                                </a>  
                                            {% else %}
                                                <a href="{{ post.the_user.profile.get_absolute_url }}">
                                                    <img src="{{ post.the_user.profile.photo.url }}" class="rounded-circle" width="30" height="30">
                                                </a>
                                            {% endif %}
                                            <div class="d-flex flex-column flex-wrap ml-2">
                                                <span class="font-weight-bold">
                                                    {% if post.the_user == user %}<!--si el usuario logeado mira su propia publicación entra aca para que los enlaces esten dirigidos a 'myprofile'-->
                                                        <a class="some-links" href="{% url 'myprofile'%}">
                                                            <b>
                                                                {{ post.the_user }}
                                                            </b>
                                                            
                                                        </a>        
                                                    {% else %}<!--si el usuario logeado no es el dueño entramos aca y nos dan los enlaces a 'profile', que es la url-vista que se encarga de mostrar perfiles de usuarios que no sean el logeado-->
                                                        <a class="some-links" href="{{ post.the_user.profile.get_absolute_url }}">
                                                            <b>
                                                                {{ post.the_user }}
                                                            </b>
                                                            
                                                        </a>
                                                    {% endif %}
                                                </span>
                                                <small style="font-size: 11px;" class="text-muted"><!--fecha en la que fue compartida, no creada la publicación.-->
                                                    Shared on {{ post.time_post }}
                                                </small>
                                            </div>
                                        </div>
                                        <div class="px-2">
                                            <div class="dropdown show dropleft">
                                                <a class="link_icons" href="" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                                        <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                                    </svg>
                                                </a>
                                            
                                                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                    <a class="dropdown-item" href="{% url 'post-detail' post.the_post.id %}">
                                                        Go to Post
                                                    </a>
                                                    {% if post.the_user == request.user %}<!--solo quien compartio puede dejar de compartir-->
                                                        <div class="dropdown-divider"></div>
                                                        <a class="dropdown-item" href="{% url 'SharingPostDeleteView' post.id %}">
                                                            Stop sharing 
                                                        </a>
                                                    {% endif %}
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="{% url 'Report_Post' post.the_post.id %}">
                                                        Report post
                                                    </a>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div> 
                                    </div>
                                    <!--ABAJO ARRANCA LA PUBLICACIÓN:-->
                                    <div class="d-flex flex-row justify-content-between align-items-center p-2 border-bottom">
                                        <!--TODO LO DE ABAJO ES PARA EL DUEÑO DE LA PUBLICACIÓN, SE ENCUENTRA EN post.the_post-->
                                        <div class="d-flex flex-row align-items-center px-2 ml-4">
                                            {% if post.the_post.user_post == user %}
                                                <a href="{% url 'myprofile'%}">
                                                    <img src="{{ post.the_post.user_post.profile.photo.url }}" class="rounded-circle" width="30" height="30">
                                                </a>  
                                            {% else %}
                                                <a href="{{ post.the_post.user_post.profile.get_absolute_url }}">
                                                    <img src="{{ post.the_post.user_post.profile.photo.url }}" class="rounded-circle" width="30" height="30">
                                                </a>
                                            {% endif %}
                                            <div class="d-flex flex-column flex-wrap ml-2">
                                                <span class="font-weight-bold">
                                                    {% if post.the_post.user_post == user %}<!--si el usuario logeado mira su propia publicación entra aca para que los enlaces esten dirigidos a 'myprofile'-->
                                                        <a class="some-links_2" href="{% url 'myprofile'%}">
                                                            <b>
                                                                {{ post.the_post.user_post }}
                                                            </b>
                                                            
                                                        </a>        
                                                    {% else %}<!--si el usuario logeado no es el dueño entramos aca y nos dan los enlaces a 'profile', que es la url-vista que se encarga de mostrar perfiles de usuarios que no sean el logeado-->
                                                        <a class="some-links_2" href="{{ post.the_post.user_post.profile.get_absolute_url }}">
                                                            <b>
                                                                {{ post.the_post.user_post }}
                                                            </b>
                                                            
                                                        </a>
                                                    {% endif %}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-image">
                                    <img class="img-fluid" src="{{ post.the_post.pic.url }}">
                                </div>
                                <div class="d-flex justify-content-start options mt-2 ml-1">
                                    {% if post.the_post in liked_post %}<!--nos fijamos si el user logeado le dio like al post-->
                                        <i class="bi bi-ticket-perforated-fill">    
                                            <a class="like_suitcase_sharing there_is_like ml-1" href="{% url 'like' %}" id="sharing{{ post.id }}">
                                                
                                                <svg id="svg_suitcase{{ post.id }}{{ post.the_post.id }}" version="1.1" viewBox="0.0 0.0 100.0 100.0" width="24" height="24"  fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                    
                                                    <clipPath id="p.0">
                                                        <path d="m0 0l100.0 0l0 100.0l-100.0 0l0 -100.0z" clip-rule="nonzero"/>
                                                    </clipPath> 
                                                
                                                    <g clip-path="url(#p.0)">
                                                        <path fill="#000000" fill-opacity="0.0" d="m0 0l100.0 0l0 100.0l-100.0 0z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para el relleno: fill="#ed4956" -->
                                                        <path id="path_sharing_heart_fill{{ post.id }}{{ post.the_post.id }}" fill="#ed4956" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para la linea de contorno -->
                                                        <path id="path_sharing_heart_stroke{{ post.id }}{{ post.the_post.id }}" stroke="#ed4956" stroke-width="5.0" stroke-linejoin="round" stroke-linecap="butt" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                    </g>
                                                
                                                </svg> 
                                            </a>
                                        </i>
                                    {% else %}
                                        <i class="bi bi-ticket-perforated-fill">
                                            <a class="like_suitcase_sharing there_is_not_like ml-1" href="{% url 'like' %}" id="sharing{{ post.id }}">
                                                <svg id="svg_suitcase{{ post.id }}{{ post.the_post.id }}" version="1.1" viewBox="0.0 0.0 100.0 100.0" width="24" height="24"  fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                        
                                                    <clipPath id="p.0">
                                                        <path d="m0 0l100.0 0l0 100.0l-100.0 0l0 -100.0z" clip-rule="nonzero"/>
                                                    </clipPath> 
                                                
                                                    <g clip-path="url(#p.0)">
                                                        <path fill="#000000" fill-opacity="0.0" d="m0 0l100.0 0l0 100.0l-100.0 0z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para el relleno: fill="#ed4956" -->
                                                        <path id="path_sharing_heart_fill{{ post.id }}{{ post.the_post.id }}" fill="white" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                        <!-- El siguiente path es para la linea de contorno -->
                                                        <path id="path_sharing_heart_stroke{{ post.id }}{{ post.the_post.id }}" stroke="black" stroke-width="5.0" stroke-linejoin="round" stroke-linecap="butt" d="m50.0 27.220469c19.868767 -51.866142 97.35695 0 0 66.68504c-97.35696 -66.68504 -19.868767 -118.55118 0 -66.68504z" fill-rule="evenodd"/>
                                                    </g>
                                                
                                                </svg>    

                                            </a>
                                        </i>    
                                    {% endif %}
                                    <i class="bi bi-pencil">
                                        <a class="link_icons" href="{% url 'post-detail' post.the_post.id %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                                <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                            </svg>
                                        </a>
                                    </i>

                                    <!--FORMULARIO PARA COMPARTIR POST-->
                                    <div class="dropdown show">
                                        <a class="link_icons" href="" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16">
                                                <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
                                            </svg>
                                        </a>
                                    
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                            <form action="{% url 'Share_Post' %}" method="POST">
                                                {% csrf_token %}
                                                <input name="sharing_post" id="Post_{{ post.the_post.id }}" value="{{ post.the_post.id }}" type="hidden">
                                                <button class="button-share">
                                                    Share with followers
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                    



                                </div>
                                <div class="d-flex justify-content-between like-count ml-2 mr-2">
                                    <span>
                                        <a id="like{{post.the_post.id}}" class="some-links" href="{% url 'LikesListView' post.the_post.id %}">
                                            <span id="span_like{{post.id}}">
                                                {{ post.the_post.likes.count }}
                                            </span> Likes
                                        </a>
                                    </span>
                                    {% if post.the_post.tags == 'Featured'%}
                                        <a href="{% url 'FeaturedPostListView' post.the_post.user_post.id %}" class="text-primary">
                                            Tags: {{ post.the_post.tags }}
                                        </a>
                                    {% else %}
                                        <a href="{% url 'give_name_get_id' %}" class="text-primary desbordamiento {{ post.the_post.user_post }}">Tags: {{ post.the_post.tags }}</a>
                                    {% endif %}
                                    <!-- <span class="text-primary">
                                        Tags: {{ post.the_post.tags }}
                                    </span> -->
                                </div>
                                <div class="block-body ml-2">
                                    <span>
                                        {% if post.the_post.user_post == user %}<!--si el usuario logeado mira su propia publicación entra aca para que los enlaces esten dirigidos a 'myprofile'-->
                                            <a class="some-links" href="{% url 'myprofile'%}">
                                                <b>
                                                    {{ post.the_post.user_post }}
                                                </b>
                                                
                                            </a>        
                                        {% else %}<!--si el usuario logeado no es el dueño entramos aca y nos dan los enlaces a 'profile', que es la url-vista que se encarga de mostrar perfiles de usuarios que no sean el logeado-->
                                            <a class="some-links" href="{{ post.the_post.user_post.profile.get_absolute_url }}">
                                                <b>
                                                    {{ post.the_post.user_post }}
                                                </b>
                                                
                                            </a>
                                        {% endif %}
                                    </span>
                                    <span style="color: rgb(26, 26, 26); font-size: 14px;">
                                        {{ post.the_post.body }}
                                    </span> 
                                </div>
                                <div class="comment-count ml-2">
                                    <span>
                                        <a class="some-links" href="{% url 'post-detail' post.the_post.id %}">
                                            {{ post.the_post.details.count }} Comments
                                        </a>
                                    </span>
                                </div>
                                <div class="comment-count ml-2">
                                    <small style="font-size: 11px;" class="text-muted"><!--fecha en la que fue compartida, no creada la publicación.-->
                                        Posted on {{ post.the_post.time_post }}
                                    </small>
                                </div>
                            </div>
                        </div>

                    </div>
                </div> 
            {% endif %}
        {% endfor %}

    {% else %}
        <div class="mt-5">
            <p>
                The posts of the users you follow and your own will be seen here in the future.
            </p>
        </div>
    {% endif %}
    


    <br>

    {% if postings %}<!--Recorremos todos los post-->

        
        <div class="d-flex flex-row justify-content-center">
            <!--page_obj.has_previous: Verifica si hay una página anterior.-->
            <!--page_obj.has_next: Verifica si hay una página posterior.-->
            <!--page_obj.previous_page_number: Devuelve el número de la página anterior.-->
            <!--page_obj.next_page_number: Devuelve el número de la siguiente página.-->
            <!--page_obj.number: Devuelve el número de la página actual.-->
            <!--page_obj.paginator.num_pages: Devuelve el número total de páginas.-->
        
            {% if is_paginated %}<!--CREO QUE ENTRARA A ESTE IF SI HAY MAS DE 10 PUBLICACIONES QUE ES CUANDO SE NECESITARA MAS DE UNA PAGINA PARA MOSTRAR TODAS LAS PUBLICACIONES-->
        
                {% if page_obj.has_previous %}<!--ENTRA A ESTE IF SI LA PAGINA EN LA QUE ESTAMOS TIENE UNA PREVIA, O SEA ESTAMOS EN LA 2, ENTONCES ENTRARA PARA PODER VOLVER A LA PRIMERA-->
                    <!--LINK A LA PRIMERA PAGINA-->
                    <a class="btn btn-outline-info mb-4" href="?page=1">First</a>
                    <!--LINK PARA IR A AL PAGINA ANTERIOR-->
                    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
                {% endif %}
        
                {% for num in page_obj.paginator.page_range %}<!--este for es para que se muestren determinada cantidad de numeros de paginas a los lados del numero en que estamos, en este caso 3 de cada lado, por ejemplo si estamos en la pagina 6, se mostra lo sigueinte: previos-4-5-"6"-7-8-next-->
                    {% if page_obj.number == num %}<!--NOS FIJAMOS SI LA PAGINA ACTUAL ES IGUAL A num-->
                        <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
                    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                        <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
                    {% endif %}
                {% endfor %}
        
                {% if page_obj.has_next %}<!--VERIFICA SI HAY UNA PAGINA POSTERIOR, SI LA HAY, ENTRA-->
                    <!--LINK PARA ACCEDER A LA SIGUIENTE PAGINA-->
                    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
                    <!---->
                    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
                {% endif %}
        
            {% endif %}
        </div>

    {% endif %}
    

    <br><br>

    <div class="fixed-bottom d-flex flex-row justify-content-between border-top">

        <div class="p-2">
            <a class="link_icons" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
                    <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"/>
                </svg>
            </a>
        </div>

        <div class="p-2">
            <a class="link_icons" href="{% url 'search_user_2' %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
            </a>
        </div>

        <div class="p-2">
            <a class="link_icons" href="{% url 'upload_photo' %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-plus-circle-dotted" viewBox="0 0 16 16">
                    <path d="M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                </svg>
            </a>
        </div>

        <div class="p-2" id="div_svg_notification">
            <a class="link_icons" href="{% url 'list_notification' %}" id="bell_svg_notification">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                </svg>
                {% if received_follower_request > 0  %}
                    <svg id="point_svg_notification" version="1.1" baseProfile="full" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="5" r="4" fill="red" />
                    </svg>
                {% endif %}
            </a>
        </div>

        <div class="p-2">
            <a class="" href="{% url 'myprofile' %}">
                <img src="{{ request.user.profile.photo.url }}" class="rounded-circle" width="23" height="23">
            </a>
        </div>

    </div>

{% endblock %}


{% block jsfiles %}


    <script type="text/javascript" src="{% static 'js/like_post.js' %}"></script><!--Script para manejar eventos de touch sobre los paises.-->
    <script type="text/javascript" src="{% static 'js/like_sharing.js' %}"></script><!--Script para manejar eventos de touch sobre los paises.-->
    <script type="text/javascript" src="{% static 'js/redirect_to_gallery_country.js' %}"></script><!--Script para manejar eventos de touch sobre los paises.-->


    <script>
        //obtenemos el boton para cancelar restaurar los tutoriales:
        var title_Traveltry = document.getElementById("scroll_top");

        // When the user clicks on the button, open the modal
        title_Traveltry.onclick = function() {
            //window.scrollTo(0, 0);//este anda en mi celu
            window.scrollTo({ top: 0, behavior: 'smooth' });//este anda en la compu pero no en mi celu.
        }
        
    </script>
{% endblock jsfiles %}

